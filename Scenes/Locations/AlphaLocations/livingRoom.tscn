[gd_scene load_steps=40 format=3 uid="uid://d3jtqwbc5f4r1"]

[ext_resource type="PackedScene" uid="uid://cvqoun81ogne4" path="res://Scenes/Global/Animations/transition_screen.tscn" id="1_0ym7e"]
[ext_resource type="PackedScene" uid="uid://ca8jmeovriklg" path="res://Scenes/Maps/alphaMaps/living_room.tscn" id="1_w2ghf"]
[ext_resource type="ArrayMesh" uid="uid://cqyknlesi5qor" path="res://Assets/mesh/walls/livingRoomMesh.mesh" id="2_5gcgh"]
[ext_resource type="PackedScene" uid="uid://cbisdli0xa84q" path="res://Scenes/Entities/Door/door.tscn" id="2_lhkf3"]
[ext_resource type="PackedScene" uid="uid://bh2exf58tq2ry" path="res://Scenes/Menus/Zagadki/zagadka_z_lodówką.tscn" id="2_lwy5w"]
[ext_resource type="PackedScene" uid="uid://bgmp0s0yqctpj" path="res://Scenes/Entities/Player/gracz.tscn" id="3_acxqq"]
[ext_resource type="PackedScene" uid="uid://d1imfipilgb4h" path="res://Scenes/Menus/pause_menu/pause_menu.tscn" id="3_xkked"]
[ext_resource type="PackedScene" uid="uid://c022k2pduvwhn" path="res://Scenes/Menus/equipment_bar/equipment.tscn" id="4_cfqtg"]
[ext_resource type="PackedScene" uid="uid://lantpmginshd" path="res://Assets/models/livingRoom/Mug.glb" id="5_rdptd"]
[ext_resource type="PackedScene" uid="uid://dfpdj7f2ekgrd" path="res://Assets/models/livingRoom/Newspaper.glb" id="6_5gcgh"]
[ext_resource type="PackedScene" uid="uid://dqm52ay2af3vi" path="res://Assets/models/livingRoom/Armchair.glb" id="7_kbdc1"]
[ext_resource type="Script" path="res://Scenes/Locations/AlphaLocations/door.gd" id="8_hd6kh"]
[ext_resource type="PackedScene" uid="uid://dmlbv0me1a7h4" path="res://Assets/models/doors/Door_Main.glb" id="8_lwy5w"]
[ext_resource type="PackedScene" uid="uid://ck2cx137x35hr" path="res://Assets/models/livingRoom/Sidetable.glb" id="8_p0ubc"]
[ext_resource type="PackedScene" uid="uid://oiqc1sfh5q4n" path="res://Assets/models/livingRoom/Bank_Lamp.glb" id="9_t1347"]
[ext_resource type="PackedScene" uid="uid://cy201miopb0aj" path="res://Assets/models/livingRoom/Chair.glb" id="10_0ym7e"]
[ext_resource type="PackedScene" uid="uid://cyd2xa6tkyb34" path="res://Assets/models/livingRoom/Table.glb" id="11_lwy5w"]
[ext_resource type="PackedScene" uid="uid://yy0vd016xecy" path="res://Assets/models/livingRoom/Wind_Machine.glb" id="12_2o20f"]
[ext_resource type="PackedScene" uid="uid://ceapin468e1vd" path="res://Assets/models/kitchen/Fridge.glb" id="14_ql7q7"]
[ext_resource type="PackedScene" uid="uid://0hgnlmika5yy" path="res://Assets/models/kitchen/Kitchentop_above_Fridge.glb" id="15_dpgo2"]
[ext_resource type="PackedScene" uid="uid://bptcvksgi6ybj" path="res://Assets/models/kitchen/Kitchentop.glb" id="16_yoj2b"]
[ext_resource type="PackedScene" uid="uid://di56sbmlfn4ne" path="res://Assets/models/kitchen/Oven.glb" id="17_abfwv"]
[ext_resource type="PackedScene" uid="uid://d2j7e2sjv878e" path="res://Assets/models/kitchen/Dishrack.glb" id="18_jfri7"]
[ext_resource type="PackedScene" uid="uid://gtf1pkepluap" path="res://Scenes/Maps/alphaMaps/dresser.tscn" id="19_hd6kh"]
[ext_resource type="PackedScene" uid="uid://gqr3r5vlxgu4" path="res://Assets/models/kitchen/Countertop_sink.glb" id="19_mvcnl"]
[ext_resource type="PackedScene" uid="uid://bqp0yhsvbkql7" path="res://Assets/models/kitchen/Countertop_by_Oven.glb" id="20_v4mej"]
[ext_resource type="PackedScene" uid="uid://8spcs4tp4qn5" path="res://Assets/models/kitchen/Countertop_by_Fridge.glb" id="21_g34lq"]
[ext_resource type="PackedScene" uid="uid://t45dpkw3rm00" path="res://Scenes/Entities/Items/interactable_object_controlNode.tscn" id="21_hd6kh"]
[ext_resource type="PackedScene" uid="uid://dy6618ucep6ps" path="res://Assets/models/kitchen/Cooker_Hood.glb" id="22_fjv2g"]
[ext_resource type="PackedScene" uid="uid://x5kflk7uqah7" path="res://Assets/models/kitchen/Pan.glb" id="23_wg53g"]
[ext_resource type="PackedScene" uid="uid://dorkpn36co2tr" path="res://Scenes/Entities/Items/interactable_object_item.tscn" id="24_dpgo2"]
[ext_resource type="PackedScene" uid="uid://wgt3vja34xxd" path="res://Assets/models/kitchen/Pot.glb" id="24_p12un"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lhkf3"]

[sub_resource type="Sky" id="Sky_acxqq"]
sky_material = SubResource("ProceduralSkyMaterial_lhkf3")

[sub_resource type="Environment" id="Environment_cfqtg"]
background_mode = 2
sky = SubResource("Sky_acxqq")

[sub_resource type="NavigationMesh" id="NavigationMesh_acxqq"]
vertices = PackedVector3Array(3.24724, 1.50634, -3.52328, 4.02724, 1.49634, -3.00328, 4.02724, 1.53634, -3.52328, -3.77276, 0.0163364, -2.48328, -3.77276, 0.0163364, -1.18328, -3.25276, 0.0163364, -1.70328, 1.94724, 0.0163364, 0.116722, 1.68724, 0.0163364, 1.93672, 2.20724, 0.0163364, 1.93672, 2.20724, 0.0163364, -0.403278, 1.42724, 0.0163364, -1.18328, 1.94724, 0.0163364, -2.74328, 3.50724, 0.0163364, -1.44328, 3.50724, 0.0163364, -1.96328, -4.29276, 0.0163364, 0.376722, -4.29276, 0.0163364, 1.93672, -0.652761, 0.0163364, 1.93672, -0.652761, 0.0163364, 0.376722, 3.50724, 1.37634, 1.41672, 4.28724, 1.50634, 1.93672, 4.28724, 1.37634, 0.896722, -4.29276, 0.0163364, 3.49672, -4.29276, 0.0163364, 4.53672, -0.652761, 0.0163364, 4.53672, -0.652761, 0.0163364, 3.49672, 0.90724, 0.0163364, 3.75672, 0.90724, 0.0163364, 4.53672, 4.54724, 0.0163364, 4.53672, 4.54724, 0.0163364, 3.49672)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(5, 3, 10), PackedInt32Array(10, 3, 11), PackedInt32Array(9, 6, 10), PackedInt32Array(12, 9, 13), PackedInt32Array(13, 9, 10), PackedInt32Array(13, 10, 11), PackedInt32Array(17, 16, 14), PackedInt32Array(14, 16, 15), PackedInt32Array(20, 19, 18), PackedInt32Array(24, 23, 21), PackedInt32Array(21, 23, 22), PackedInt32Array(26, 25, 27), PackedInt32Array(27, 25, 28)]
cell_size = 0.26
cell_height = 0.01
vertices_per_polygon = 10.0

[sub_resource type="BoxShape3D" id="BoxShape3D_2o20f"]
size = Vector3(1.45837, 0.0448608, 0.520508)

[sub_resource type="BoxShape3D" id="BoxShape3D_hd6kh"]
size = Vector3(6.66547, 57.9855, 16.8447)

[sub_resource type="BoxShape3D" id="BoxShape3D_ql7q7"]
size = Vector3(39.2349, 19.7744, 24.1862)

[node name="Node3D" type="Node3D"]

[node name="gui" type="Node" parent="."]

[node name="PauseMenu" parent="gui" instance=ExtResource("3_xkked")]

[node name="Transition_screen" parent="gui" instance=ExtResource("1_0ym7e")]

[node name="zagadka z lodówką" parent="gui" instance=ExtResource("2_lwy5w")]
anchors_preset = -1
anchor_left = 2.604
anchor_right = 3.604
offset_left = 0.191895
offset_right = 0.191895
offset_bottom = 0.000976563

[node name="Equipment" parent="." instance=ExtResource("4_cfqtg")]

[node name="LivingRoom" parent="." instance=ExtResource("1_w2ghf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -19.122, 0)

[node name="Gracz" parent="." instance=ExtResource("3_acxqq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.52896, 19.1216, -1.24775)
floor_max_angle = 0.1309

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_cfqtg")

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.49668, 18.1216, 0.917964)
navigation_mesh = SubResource("NavigationMesh_acxqq")

[node name="LivingRoom" parent="NavigationRegion3D2" instance=ExtResource("1_w2ghf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.49668, -18.1216, -0.917964)

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/LivingRoom"]
input_ray_pickable = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D2/LivingRoom/StaticBody3D"]
transform = Transform3D(-4.449, -3.92589e-07, 5.74361e-14, 0, -1.1365e-07, -8.70213, 6.7178e-07, -2.6, 3.80382e-07, -8.76044, 19.8397, 0.415334)
mesh = ExtResource("2_5gcgh")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/LivingRoom/StaticBody3D"]
transform = Transform3D(-4.449, -3.92589e-07, 5.74361e-14, -2.02266e-18, -1.13651e-07, -8.70213, 6.71751e-07, -2.6, 3.80382e-07, -7.49022, 18.2927, 0.56225)
shape = SubResource("BoxShape3D_2o20f")

[node name="StaticBody3D2" type="StaticBody3D" parent="NavigationRegion3D2/LivingRoom"]
input_ray_pickable = false

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D2/LivingRoom/StaticBody3D2"]
transform = Transform3D(2.3301e-07, -2.6, 3.80382e-07, 0, -1.1365e-07, -8.70213, 3.08631, 1.96295e-07, -2.87181e-14, -4.48274, 19.8371, 3.50633)
mesh = ExtResource("2_5gcgh")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/LivingRoom/StaticBody3D2"]
transform = Transform3D(2.32981e-07, -2.6, 3.80382e-07, -1.69822e-18, -1.13652e-07, -8.70213, 3.08631, 1.96295e-07, -2.87181e-14, -4.40329, 18.4167, 2.67724)
shape = SubResource("BoxShape3D_2o20f")

[node name="Gracz" parent="." instance=ExtResource("3_acxqq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.52896, 0, -1.24775)
floor_max_angle = 0.1309

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_cfqtg")

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.49668, -0.152157, 0.917964)
navigation_mesh = SubResource("NavigationMesh_acxqq")
navigation_layers = 5

[node name="WorkingDoors" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.49668, -18.1216, -0.917964)

[node name="bedroomDoor" parent="NavigationRegion3D/WorkingDoors" instance=ExtResource("2_lhkf3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.219181, 18.3175, -0.804449)
next_scene = "res://Scenes/Locations/AlphaLocations/bedroom.tscn"

[node name="bathroomDoor" parent="NavigationRegion3D/WorkingDoors" instance=ExtResource("2_lhkf3")]
process_mode = 4
transform = Transform3D(1.19249e-08, 0, -1, 0, 1, 0, 1, 0, 1.19249e-08, -6.60892, 18.3175, -0.144485)
visible = false
next_scene = "res://Scenes/Locations/AlphaLocations/bathroom.tscn"
door_type = "bathroom"

[node name="Node3D" type="Node3D" parent="NavigationRegion3D/WorkingDoors"]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0.149125, -0.127224, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WorkingDoors/Node3D"]
collision_layer = 5
collision_mask = 5
script = ExtResource("8_hd6kh")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WorkingDoors/Node3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -115.791, 246.505, -14.3095)
shape = SubResource("BoxShape3D_hd6kh")

[node name="testDoor" parent="NavigationRegion3D/WorkingDoors/Node3D" instance=ExtResource("8_lwy5w")]

[node name="PickUpRange" type="Area3D" parent="NavigationRegion3D/WorkingDoors/Node3D"]
transform = Transform3D(1, 2.06057e-13, 0, 1.59517e-12, 1, -7.27596e-12, 0, 0, 1, -124.306, 214.05, -1.59646)
collision_layer = 2
collision_mask = 2
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WorkingDoors/Node3D/PickUpRange"]
transform = Transform3D(1, 7.00666e-18, -3.53015e-29, -2.1684e-19, 1, -2.87097e-16, 0, 0, 1, 0.892296, 25.7896, -10.0833)
shape = SubResource("BoxShape3D_ql7q7")

[node name="LivingArea" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.49668, -18.2087, -0.917964)

[node name="Mug" parent="NavigationRegion3D/LivingArea" instance=ExtResource("5_rdptd")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Newspaper" parent="NavigationRegion3D/LivingArea" instance=ExtResource("6_5gcgh")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Armchair" parent="NavigationRegion3D/LivingArea" instance=ExtResource("7_kbdc1")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Sidetable" parent="NavigationRegion3D/LivingArea" instance=ExtResource("8_p0ubc")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Bank_Lamp" parent="NavigationRegion3D/LivingArea" instance=ExtResource("9_t1347")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Chair" parent="NavigationRegion3D/LivingArea" instance=ExtResource("10_0ym7e")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Chair2" parent="NavigationRegion3D/LivingArea" instance=ExtResource("10_0ym7e")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 1.16448)

[node name="Chair3" parent="NavigationRegion3D/LivingArea" instance=ExtResource("10_0ym7e")]
transform = Transform3D(0.0207055, 0, -0.0772741, 0, 0.08, 0, 0.0772741, 0, 0.0207055, 0.958539, 0, 1.20667)

[node name="Table" parent="NavigationRegion3D/LivingArea" instance=ExtResource("11_lwy5w")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Wind_Machine" parent="NavigationRegion3D/LivingArea" instance=ExtResource("12_2o20f")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Dresser" parent="NavigationRegion3D2/LivingArea" instance=ExtResource("19_hd6kh")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0.35568)

[node name="Kitchen" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.49668, -18.2234, -0.917964)

[node name="Lodówka" type="Node3D" parent="NavigationRegion3D2/Kitchen"]

[node name="Fridge" parent="NavigationRegion3D/Kitchen/Lodówka" instance=ExtResource("14_ql7q7")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="FridgeClickable" parent="NavigationRegion3D2/Kitchen/Lodówka" node_paths=PackedStringArray("zagadkaControlNode", "transitionScreen") instance=ExtResource("21_hd6kh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.7232, 18.5461, -2.60084)
zagadkaControlNode = NodePath("../../../../gui/zagadka z lodówką")
transitionScreen = NodePath("../../../../gui/Transition_screen")

[node name="Piec" type="Node3D" parent="NavigationRegion3D2/Kitchen"]

[node name="Oven" parent="NavigationRegion3D/Kitchen/Piec" instance=ExtResource("17_abfwv")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="InteractableObjectSignal2" parent="NavigationRegion3D2/Kitchen/Piec" node_paths=PackedStringArray("transitionScreen") instance=ExtResource("24_dpgo2")]
transform = Transform3D(1.03, 0, 0, 0, 0.61, 0, 0, 0, 1.299, -3.794, 18.476, -2.769)
transitionScreen = NodePath("../../../../gui/Transition_screen")
requiredItem = 1
givenItem = 2

[node name="Kitchentop_above_Fridge" parent="NavigationRegion3D/Kitchen" instance=ExtResource("15_dpgo2")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Kitchentop" parent="NavigationRegion3D/Kitchen" instance=ExtResource("16_yoj2b")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Dishrack" parent="NavigationRegion3D/Kitchen" instance=ExtResource("18_jfri7")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Countertop_sink" parent="NavigationRegion3D/Kitchen" instance=ExtResource("19_mvcnl")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Countertop_by_Oven2" parent="NavigationRegion3D/Kitchen" instance=ExtResource("20_v4mej")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Countertop_by_Fridge" parent="NavigationRegion3D/Kitchen" instance=ExtResource("21_g34lq")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Cooker_Hood" parent="NavigationRegion3D/Kitchen" instance=ExtResource("22_fjv2g")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Pan" parent="NavigationRegion3D/Kitchen" instance=ExtResource("23_wg53g")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="Pot" parent="NavigationRegion3D/Kitchen" instance=ExtResource("24_p12un")]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 0, 0, 0)

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="NavigationRegion3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0347099, 0, -0.295524)
height = 4.91
vertices = PackedVector3Array(0.21116, 0, -0.535007, 1.34127, 0, -0.53577, 1.41131, 0, 3.91187, -0.389976, 0, 4.14165, -0.0680437, 0, -0.425931)
affect_navigation_mesh = true
carve_navigation_mesh = true
use_3d_avoidance = true

[connection signal="input_event" from="NavigationRegion3D2/WorkingDoors/Node3D/StaticBody3D" to="NavigationRegion3D2/WorkingDoors/Node3D/StaticBody3D" method="_on_static_body_3d_input_event"]
[connection signal="area_entered" from="NavigationRegion3D2/WorkingDoors/Node3D/PickUpRange" to="NavigationRegion3D2/WorkingDoors/Node3D/StaticBody3D" method="_on_pick_up_range_area_entered"]
[connection signal="area_exited" from="NavigationRegion3D2/WorkingDoors/Node3D/PickUpRange" to="NavigationRegion3D2/WorkingDoors/Node3D/StaticBody3D" method="_on_pick_up_range_area_exited"]
